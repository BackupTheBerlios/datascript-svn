package choices;

Container
{
    uint16   tag;
    Content  content;
};

choice Content on Container.tag
{
    /** if it's variant A */
    case 1:   VariantA  a;

    /** variant B is only possible with cases 2-4 */
    case 2:
    case 3:
    case 4:   VariantB  b;

    /** else take the default variant */
    default:  VariantC  c;       
};

subtype int8  VariantA;
subtype int16 VariantB;
subtype int32 VariantC;



ParamContainer
{
    Selector  selector;
    ParamContent(selector)  content;
};

enum uint8 Selector
{
    BLACK,
    GREY,
    WHITE    
};

choice ParamContent(Selector sel) on sel
{
    case BLACK:  Black black;
    case WHITE:  White white;
};

subtype int16  Black;
subtype uint32 White;
